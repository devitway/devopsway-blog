<!-- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫ -->
<meta name="robots" content="index, follow">
<link rel="canonical" href="{{ .Permalink }}">

<!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–æ–∫ -->
<script>
(function() {
    function hideLineNumbers() {
        document.querySelectorAll('.lnt, .lnl').forEach(el => {
            el.style.display = 'none';
            el.style.userSelect = 'none';
        });
    }
    document.addEventListener('DOMContentLoaded', hideLineNumbers);
    setTimeout(hideLineNumbers, 100);
})();
</script>
<!-- –î–æ–±–∞–≤–∏—Ç—å –í –ö–û–ù–ï–¶ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞ layouts/partials/extend_head.html -->

<!-- Mermaid.js –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    mermaid.initialize({
        startOnLoad: true,
        theme: document.body.classList.contains('dark') ? 'dark' : 'default',
        securityLevel: 'loose',
        fontFamily: 'inherit',
        flowchart: {
            useMaxWidth: true,
            htmlLabels: true
        }
    });
    
    // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
    const themeToggle = document.getElementById('theme-toggle');
    if (themeToggle) {
        themeToggle.addEventListener('click', () => {
            setTimeout(() => {
                const newTheme = document.body.classList.contains('dark') ? 'dark' : 'default';
                mermaid.initialize({ theme: newTheme });
                // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –¥–∏–∞–≥—Ä–∞–º–º—ã
                document.querySelectorAll('.mermaid').forEach(el => {
                    if (el.getAttribute('data-processed')) {
                        el.removeAttribute('data-processed');
                        const graph = el.innerHTML;
                        el.innerHTML = el.textContent || el.innerText;
                    }
                });
                mermaid.init();
            }, 100);
        });
    }
});
</script>

<!-- –°—Ç–∏–ª–∏ –¥–ª—è Mermaid -->
<style>
.mermaid {
    text-align: center;
    margin: 2rem 0;
    background: transparent;
}

.mermaid svg {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
}

.post-content .mermaid {
    overflow-x: auto;
    padding: 1rem;
    border: 1px solid var(--border);
    border-radius: 8px;
    background: var(--code-bg);
}

@media (max-width: 768px) {
    .mermaid {
        font-size: 14px;
    }
}
</style>
<!-- –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ layouts/partials/extend_head.html -->

<!-- =================================================================== -->
<!-- –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ù–û–ú–ï–†–û–í –°–¢–†–û–ö (–≤—Å–µ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ–º) -->
<!-- =================================================================== -->
{{ $fixLineNumbers := resources.Get "js/fix-line-numbers.js" | resources.Minify }}
<script defer src="{{ $fixLineNumbers.RelPermalink }}"></script>

<!-- =================================================================== -->
<!-- –°–ò–°–¢–ï–ú–ê –î–ò–ê–ì–†–ê–ú–ú (—É—Å–ª–æ–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ) -->
<!-- =================================================================== -->
{{ if or (.Params.diagrams) (in .Content "diagram ") (.Site.Params.enableDiagrams) }}

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ D3.js –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js" as="script" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js" 
        integrity="sha512-M7nHCiNUOwFt6Us3r8alutZLm9qMt4s9951uo8jqO4KzQTdG+jA5F9BCoCb/04VCefWd5IEoRX7X+5qmEQfmXA==" 
        crossorigin="anonymous" 
        referrerpolicy="no-referrer"></script>

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ CSS –¥–∏–∞–≥—Ä–∞–º–º -->
{{ $diagramCSS := resources.Get "css/extended/diagrams.css" | resources.Minify }}
<link rel="stylesheet" href="{{ $diagramCSS.RelPermalink }}">

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript –¥–∏–∞–≥—Ä–∞–º–º -->
{{ $diagramJS := resources.Get "js/diagram-system.js" | resources.Minify }}
<script defer src="{{ $diagramJS.RelPermalink }}"></script>

<!-- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –≤ development) -->
{{ if eq .Site.Params.env "development" }}
<script>
console.log('üéØ –î–∏–∞–≥—Ä–∞–º–º—ã –≤–∫–ª—é—á–µ–Ω—ã –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã:', '{{ .Title }}');
console.log('üìä –ü–∞—Ä–∞–º–µ—Ç—Ä diagrams:', {{ .Params.diagrams | default false }});
console.log('üîç –ù–∞–π–¥–µ–Ω —à–æ—Ä—Ç–∫–æ–¥ diagram –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ:', {{ if in .Content "diagram " }}true{{ else }}false{{ end }});
console.log('üåê –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ:', {{ .Site.Params.enableDiagrams | default false }});
</script>
{{ end }}

{{ end }}

<!-- =================================================================== -->
<!-- FALLBACK –î–õ–Ø –°–¢–ê–†–´–• –ë–†–ê–£–ó–ï–†–û–í -->
<!-- =================================================================== -->
<script>
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ JavaScript
if (!window.Map || !window.Set || !Array.from) {
    console.warn('‚ö†Ô∏è –î–∏–∞–≥—Ä–∞–º–º—ã —Ç—Ä–µ–±—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ES6');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    document.addEventListener('DOMContentLoaded', function() {
        const diagrams = document.querySelectorAll('[data-diagram-type]');
        diagrams.forEach(function(diagram) {
            diagram.innerHTML = '<div style="padding: 2rem; text-align: center; background: #f7fafc; border: 1px solid #e2e8f0; border-radius: 8px; color: #4a5568;">' +
                '<p style="margin: 0 0 1rem 0;">‚ö†Ô∏è –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∏–∞–≥—Ä–∞–º–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä.</p>' +
                '<p style="margin: 0; font-size: 0.875rem;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ Chrome, Firefox, Safari –∏–ª–∏ Edge.</p>' +
                '</div>';
        });
    });
}
</script>

<!-- =================================================================== -->
<!-- CSP –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) -->
<!-- =================================================================== -->
<!--
<meta http-equiv="Content-Security-Policy" 
      content="script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; 
               style-src 'self' 'unsafe-inline';">
-->

<!-- =================================================================== -->
<!-- PRODUCTION –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò -->
<!-- =================================================================== -->
{{ if eq .Site.Params.env "production" }}
<!-- DNS prefetch –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ -->
<link rel="dns-prefetch" href="//cdnjs.cloudflare.com">

<!-- Resource hints –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
{{ if or (.Params.diagrams) (in .Content "diagram ") (.Site.Params.enableDiagrams) }}
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
{{ end }}
{{ end }}